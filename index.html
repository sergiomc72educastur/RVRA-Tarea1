<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Drone Defender 3D</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- HUD (marcadores superiores) -->
  <header id="hud">
    <div class="hud-item">
      <span class="hud-label hud-label-score">Puntuación</span>
      <span id="score" class="hud-value hud-value-score">0</span>
    </div>
    <div class="hud-item">
      <span class="hud-label hud-label-life">Vidas</span>
      <span id="lives" class="hud-value hud-value-life">3</span>
    </div>
    <div class="hud-item">
      <span class="hud-label hud-label-wave">Oleada</span>
      <span id="wave-number" class="hud-value hud-value-wave">1</span>
    </div>
  </header>

  <!-- HUD inferior: barras -->
  <div id="bottom-hud">
    <!-- Barra de vida -->
    <div id="health-bar" class="hud-bar horizontal">
      <div id="health-fill" class="hud-bar-fill"></div>
    </div>

    <!-- Barra de stamina -->
    <div id="stamina-bar" class="hud-bar horizontal stamina">
      <div id="stamina-fill" class="hud-bar-fill"></div>
    </div>
  </div>

  <!-- Mira -->
  <div id="crosshair"></div>

  <!-- Pantalla de inicio -->
  <div id="start-screen" class="overlay">
    <div class="overlay-content">
      <h1 class="game-title">
        Drone Defender <span>3D</span>
      </h1>
      <p class="game-subtitle">
        <span class="subtitle-tag">Plataforma orbital</span> – Sector <span class="subtitle-highlight">Neon-09</span>
      </p>

      <div class="overlay-grid">
        <!-- Objetivo -->
        <div class="overlay-panel">
          <h2>Objetivo</h2>
          <ul>
            <li>Sobrevive el máximo número de <span class="text-wave">oleadas</span>.</li>
            <li>Los <span class="text-danger">drones</span> te dañan al contacto.</li>
            <li>Recupera control, muévete y usa las <span class="text-cover">coberturas</span>.</li>
          </ul>
        </div>

        <!-- Controles -->
        <div class="overlay-panel">
          <h2>Controles</h2>
          <ul class="controls-list">
            <li><strong>W / A / S / D</strong> – Movimiento</li>
            <li><strong>Ratón</strong> – Mirar / Apuntar</li>
            <li><strong>Click Izquierdo</strong> – Disparar <span class="text-auto">(automático)</span></li>
            <li><strong>SHIFT Izq.</strong> – Sprint (consume <span class="tag-stamina">stamina</span>)</li>
            <li><strong>ESPACIO</strong> – Saltar (solo al tocar el suelo)</li>
            <li><strong>F</strong> – <span class="tag-flashlight">Linterna táctica</span></li>
          </ul>
        </div>

        <!-- Mecánicas extra -->
        <div class="overlay-panel full-width">
          <h2>Mecánicas avanzadas</h2>
          <ul>
            <li>La barra <span class="tag-life">verde</span> muestra tu <strong>vida</strong>.</li>
            <li>
              La barra <span class="tag-stamina">azul</span> muestra tu
              <strong>stamina de sprint</strong>: se gasta al correr y se regenera al caminar o detenerte.
            </li>
            <li>No puedes saltar en el aire: espera a volver a tocar la plataforma.</li>
            <li>Los drones intentan flanquearte y pueden atascarse momentáneamente tras las coberturas.</li>
          </ul>
        </div>
      </div>

      <p class="pointer-lock-hint">
        Tras pulsar <strong>Iniciar misión</strong>, haz clic en la pantalla de juego para
        capturar el ratón y entrar en modo <span class="text-free-look">vista libre</span>.
      </p>

      <button id="start-button" class="primary-btn">
        Iniciar misión
      </button>
    </div>
  </div>

  <!-- Pantalla Game Over -->
  <div id="game-over-screen" class="overlay hidden">
    <div class="overlay-content">
      <h2 class="game-over-title">Game Over</h2>
      <p>
        Puntuación final:
        <span id="final-score" class="final-score-highlight">0</span>
      </p>
      <p class="game-over-subtitle">
        Los <span class="text-danger">drones</span> han tomado la plataforma…
        ¿Listo para otro intento?
      </p>
      <button id="restart-button" class="primary-btn">
        Reintentar
      </button>
    </div>
  </div>

  <!-- Contenedor para el canvas de Three.js -->
  <div id="game-container"></div>

  <!-- Three.js global -->
  <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
  <!-- Nuestro código -->
  <script src="script.js"></script>
</body>
</html>
